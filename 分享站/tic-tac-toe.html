<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<style>
			input{
				width: 80px;
				height: 52px;
				margin: auto;
				border: 1px solid gray;
				border-radius: 6px;
				font-size: 30px;
				text-align: center;
			}

			/* Reset Button */
			button {
				width: 95px;
				height: 40px;
				border: 1px solid dodgerblue;
				border-radius: 4px;
				background-color: dodgerblue;
				color: white;
				font-size: 20px;
			}

	</style>

	<script>
		// Function called whenever user tab on any box
		function myfunc() {
			// Setting DOM to all boxes or input field
			var b1, b2, b3, b4, b5, b6, b7, b8, b9;
			b1 = document.getElementById("b1").value;
			b2 = document.getElementById("b2").value;
			b3 = document.getElementById("b3").value;
			b4 = document.getElementById("b4").value;
			b5 = document.getElementById("b5").value;
			b6 = document.getElementById("b6").value;
			b7 = document.getElementById("b7").value;
			b8 = document.getElementById("b8").value;
			b9 = document.getElementById("b9").value;
			winner = 0;

			// Checking if Player X won or not and after
			// that disabled all the other fields
			if ((b1 == b2) && (b2 == b3) && (b1 == 'X' || b1=='O')) {
				winner = b1;
			}
			else if ((b1 == b4) && (b4 == b7) && (b1 == 'X' || b1=='O')) {
				winner = b1;
			}
			else if ((b7 == b8) && (b8 == b9) && (b7 == 'X' || b7=='O')) {
				winner = b7;
			}
			else if ((b3 == b6) && (b6 == b9) && (b3 == 'X' || b3=='O')) {
				winner = b3;
			}
			else if ((b1 == b5) && (b5 == b9) && (b1 == 'X' || b1=='O')) {
				winner = b1;
			}
			else if ((b3 == b5) && (b5 == b7) && (b3 == 'X' || b3=='O')) {
				winner = b3;
			}
			else if ((b2 == b5) && (b5 == b8) && (b2 == 'X' || b2=='O')) {
				winner = b2;
			}
			else if ((b4 == b6) && (b6 == b5) && (b4 == 'X' || b4=='O')) {
				winner = b4;
			}
			else if (b1&&b2&&b3&&b4&&b5&&b6&&b7&&b8&&b9) {
					document.getElementById('print').innerHTML = "平局";
					window.alert('平局');
			}
			else {

				// Here, Printing Result
				if (flag == 1) {
					document.getElementById('print').innerHTML = "现在轮到玩家X";
				}
				else {
					document.getElementById('print').innerHTML = "现在轮到玩家O";
				}
			}

			if (winner){
				for (var i =1; i <10;i++){
					var id = 'b'+i;
					document.getElementById(id).disabled = true;
				}
				window.alert("玩家"+ winner + " 赢了");
			}
		}

		// Function to reset game
		function reset() {
			location.reload();
			for (var i =1; i <10;i++){
					var id = 'b'+i;
					document.getElementById(id).value = '';
				}

		}

		// Here onwards, functions check turn of the player
		// and put accordingly value X or 0
		flag = 1;
		function put(id) {
			if (flag == 1) {
				document.getElementById(id).value = "X";
				flag = 0;
			}
			else {
				document.getElementById(id).value = "O";
				flag = 1;
			}
			document.getElementById(id).disabled = true;
		}
	</script>
</head>

<body>
	<div style="text-align: center;">
		<h1 style="color: orangered;font-size: 45px;">TIC TAC TOE</h1>

		<!-- Game Instructions -->
		<p>
			直接点击下方的小方块开始游戏<br><br>
			第一位玩家是 <b>X</b><br>
			第二位玩家是 <b>O</b>
		</p>

		<br><br>
		<!-- 3*3 grid of Boxes -->
		<input type="text" id="b1" onclick="put(id); myfunc();" readonly>

		<input type="text" id="b2" onclick="put(id); myfunc();" readonly>

		<input type="text" id="b3" onclick="put(id); myfunc();" readonly>
		<br><br>

		<input type="text" id="b4" onclick="put(id); myfunc();" readonly>
			
		<input type="text" id="b5" onclick="put(id); myfunc();" readonly>

		<input type="text" id="b6" onclick="put(id); myfunc();" readonly>
		<br><br>

		<input type="text" id="b7" onclick="put(id); myfunc();" readonly>

		<input type="text" id="b8" onclick="put(id);myfunc();" readonly>

		<input type="text" id="b9" onclick="put(id);myfunc();" readonly>

		<br><br><br>

		<!-- Button to reset game -->
		<button id="but" onclick="reset()">
			重置游戏
		</button>

		<br><br>
		<!-- Space to show player turn -->
		<p id="print" style="color: dodgerblue;font-size: 20px;"></p>

	</div>
</body>

</html>
